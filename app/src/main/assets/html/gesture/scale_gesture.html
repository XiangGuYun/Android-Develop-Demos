<!DOCTYPE HTML><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>onTouchEvent()：关联MotionEvent</title>
    
<style id="wiz_custom_css">html, .wiz-editor-body {font-size: 12pt;}.wiz-editor-body {font-family: Helvetica, 'Hiragino Sans GB', '寰蒋闆呴粦', 'Microsoft YaHei UI', SimSun, SimHei, arial, sans-serif;line-height: 1.7;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}.wiz-editor-body h1,.wiz-editor-body h2,.wiz-editor-body h3,.wiz-editor-body h4,.wiz-editor-body h5,.wiz-editor-body h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}.wiz-editor-body h1 {font-size:20pt;font-size:1.67rem;}.wiz-editor-body h2 {font-size:18pt;font-size:1.5rem;}.wiz-editor-body h3 {font-size:15pt;font-size:1.25rem;}.wiz-editor-body h4 {font-size:14pt;font-size:1.17rem;}.wiz-editor-body h5 {font-size:12pt;font-size:1rem;}.wiz-editor-body h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}.wiz-editor-body div,.wiz-editor-body p,.wiz-editor-body ul,.wiz-editor-body ol,.wiz-editor-body dl,.wiz-editor-body li {margin:8px 0;}.wiz-editor-body blockquote,.wiz-editor-body table,.wiz-editor-body pre,.wiz-editor-body code {margin:8px 0;}.wiz-editor-body .CodeMirror pre {margin:0;}.wiz-editor-body ul,.wiz-editor-body ol {padding-left:32px;padding-left:2rem;}.wiz-editor-body ol.wiz-list-level1 > li {list-style-type:decimal;}.wiz-editor-body ol.wiz-list-level2 > li {list-style-type:lower-latin;}.wiz-editor-body ol.wiz-list-level3 > li {list-style-type:lower-roman;}.wiz-editor-body blockquote {padding: 0 12px;}.wiz-editor-body blockquote > :first-child {margin-top:0;}.wiz-editor-body blockquote > :last-child {margin-bottom:0;}.wiz-editor-body img {border:0;max-width:100%;height:auto !important;margin:2px 0;}.wiz-editor-body table {border-collapse:collapse;border:1px solid #bbbbbb;}.wiz-editor-body td,.wiz-editor-body th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-word;box-sizing: border-box;}.wiz-hide {display:none !important;}</style></head>

<body class="wiz-editor-body"  spellcheck="false"><div>onTouchEvent()：关联MotionEvent。返回true代表该detector想继续接收后继的motion事件；否则反之。默认时该方法返回true。</div><div><br></div><div>getScaleFactor()：获取本次缩放事件的缩放因子(缩放事件以onScale()返回值为基准，一旦该方法返回true，代表本次事件结束，要开启下次事件)。它的返回值是指本次事件中的缩放值，并不是相对于最开始的值。如一张图片开始放大2倍，后来又放大1.1倍。那么第二次放大时，该方法返回的就是1.1，而不是总放大倍数：2*1.1。</div><div><br></div><div>getCurrentSpan()： 返回手势过程中，组成该手势的两个触点的当前距离。返回值以像素为单位的触点距离。</div><div><br></div><div>getCurrentSpanX(),getCurrentSpanY()：跟getCurrentSpan()类似，只不过一个是返回的是x轴上的距离，一个是y轴上的距离。注意：返回值有可能为负数。这两个方法的返回值和getCurrentSpan()的返回值满足勾股定理。</div><div><br></div><div>getFocusY(),getFocusX()：返回组成该手势的两个触点的中点在组件上的y,x轴坐标，单位为像素。</div><div><br></div><div>getPreviousSpan()：返回缩放过程中，组成当前缩放手势的两个触点的前一次距离。假设有a,b,c三个手指，某一次a,b组成缩放手势，两者的距离是300；随后一直是b,c组成缩放手势，当c抬起时，b,c的距离时100。此时，ab会组成缩放手势，该值返回的就是300，而不是b,c的100。</div><div><br></div><div>getPreviousSpanX(),getPreviousSpanY()：同getPreviousSpan()类似。</div><div><br></div><div>getEventTime()：获取当前motion事件的时间。源码如下：</div><div><br></div><div>&nbsp; &nbsp; public boolean onTouchEvent(MotionEvent event) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (mInputEventConsistencyVerifier != null) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mInputEventConsistencyVerifier.onTouchEvent(event, 0);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mCurrTime = event.getEventTime();//该方法返回的就是mCurrTime的值</div><div>&nbsp; &nbsp; }<br></div><div><br></div><div>getTimeDelta()：返回上次缩放事件结束时到当前的时间间隔。见下图：</div><div>&nbsp; &nbsp; &nbsp; &nbsp; 开始是1586，下一次立刻变成了10。这是因为在1586时，onScale返回了true，detector认为本次缩放事件已结束，再获取deltatime时就重新开始计算，所以值陡然变减少变成10。</div><div><br></div><div>&nbsp;isInProgress()：如果缩放手势正处在进行中，返回true；否则返回false</div></body></html>